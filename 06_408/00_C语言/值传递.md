---
tags:
  - 408_计算机学科专业基础
创建时间: 2026-02-11T23:20:00
考试科目: "408"
课程: C语言
阶段: 零基础
老师: 泥鳅
开始日期: 2026-02-11
结束日期: 2026-02-11
---
# 值传递

在C语言中，**所有函数参数都是以“值传递”的方式传递的**。  
所谓值传递，是指调用函数时，**实参的值会被复制一份，交给对应的形参**。函数内部操作的完全是这份拷贝，与原来的实参变量没有任何内存上的关联。

在引例中，`main`函数调用`swap(a, b)`时，发生了以下过程：

- 实参`a`的值`10`被复制给形参`a`，实参`b`的值`5`被复制给形参`b`。
- 此时系统为形参`a`、`b`分配了独立的内存空间，它们拥有自己的地址，仅仅与实参**值相等**。
- 在`swap`函数内部，通过临时变量`temp`交换的是形参`a`和`b`的值，因此函数内打印的结果是`swap, a = 5, b = 10`。
- 函数执行结束，形参的内存空间被回收。`main`函数中的实参`a`、`b`自始至终没有参与交换，它们的值依然是最初的`10`和`5`。

这一过程可以用内存示意图清晰展示：

| 调用前               | 调用时（值复制）      | swap内部交换形参     | 返回后               |
| -------------------- | --------------------- | -------------------- | -------------------- |
| main::a = 10 (地址0x100) | main::a = 10 (0x100)  | (不变)               | main::a = 10 (0x100) |
| main::b = 5  (0x104) | main::b = 5  (0x104)  | (不变)               | main::b = 5  (0x104) |
|                      | swap::a = 10 (0x200)  | swap::a = 5 (0x200)  | （已释放）           |
|                      | swap::b = 5  (0x204)  | swap::b = 10 (0x204) | （已释放）           |

**结论**：值传递的本质是“传值不传址”，函数只能通过形参读取或修改传入的**副本**，永远无法直接改变实参变量本身。  

如果希望函数能够修改主调函数中的变量，就必须传递变量的**地址**（指针），此时实参是地址值，形参是指针变量。地址值被复制给指针变量，但通过指针变量间接访问，就能操作指针所指向的原变量。这通常被称为“传址调用”，但本质上仍然遵循值传递的规则——传递的是地址值的一份拷贝。